<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:asset.script
    identifier="dialog-overlay-component"
    src="EXT:dialog_overlay/Resources/Public/Webcomponents/fucodo-dialog-overlay/dist/index.js" />
<f:asset.css
    identifier="dialog-overlay-component"
    href="EXT:dialog_overlay/Resources/Public/Webcomponents/fucodo-dialog-overlay/dist/index.css" />

<f:variable name="finalCookieName">
    <f:if condition="{data.cookie_name}">
        <f:then>{data.cookie_name}</f:then>
        <f:else>overlay_shown_{data.uid}</f:else>
    </f:if>
</f:variable>

<div class="dialog-overlay-wrapper" data-ce-uid="{data.uid}">
    <fucodo-modal-once
        data-cookie-name="{finalCookieName -> f:format.stripTags() -> f:format.trim()}"
        data-cookie-days="{f:if(condition: data.cookie_lifetime_days, then: data.cookie_lifetime_days, else: 0)}"
        data-auto-open="{f:if(condition: data.auto_open, then: '1', else: '0')}">
        <dialog class="dialog-overlay" aria-modal="true">
            <f:if condition="{data.show_close_button}">
                <form method="dialog">
                    <button value="close" class="dialog-close-btn">
                        <f:format.raw>{f:if(condition: data.close_button_label, then: data.close_button_label, else: 'Schlie√üen')}</f:format.raw>
                    </button>
                </form>
            </f:if>
            <div class="dialog-content">
                <f:for each="{children_201}" as="record">
                    <f:format.raw>{record.renderedContent}</f:format.raw>
                </f:for>
            </div>
        </dialog>
    </fucodo-modal-once>
</div>

<style>

</style>

